<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>oil_station's_reports</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/static/css/index.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="/">
          <img
            src="/static/img/vecteezy_gas-pump-clipart-design-illustration_9400880.png"
            width="50"
            alt="Picture"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active m-1" aria-current="page" href="/"
                ><h6>Asosiy</h6></a
              >
            </li>
            {% for cat in categories %}
            <li class="nav-item">
              <a
                class="nav-link active m-1"
                aria-current="page"
                href="{{cat.get_url}}"
                ><h6>{{ cat.name }}</h6></a
              >
            </li>
            {% endfor %}
            <li class="nav-item">
              <img
                style="margin-top: 13px; margin-left: 40px"
                src="/static/img/person.svg"
                alt=""
              />
            </li>
            <li class="nav-item">
              <h6 class="" style="margin-top: 2px; padding: 10px">
                {{request.user.username}}
              </h6>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div id="table_head">
      <h5 class="text-center p-3">{{category_name}} xisobotlar</h5>
      <div class="table-responsive">
        <table class="table table-primary" id="table_scroll">
          <thead>
            <tr>
              <th scope="col" id="number_of_table">#</th>
              <th scope="col">X/R</th>
              <th scope="col">Qoldiq</th>
              <th scope="col">Ohirgi sarf</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row" id="number_of_table">1</th>
              <td><a href="" class="table_xr">Asosiy</a></td>
              <td class="formatNum"><a href="">{{main_xr.bill}}</a></td>
              <td class="formatNum"><a href="">{{out_main}}</a></td>
            </tr>
            <tr>
              <th scope="row" id="number_of_table">2</th>
              <td><a href="" class="table_xr">Xudud gaz</a></td>
              <td class="formatNum">{{xudud_xr.bill}}</td>
              {% for out in out_xudud|slice:'1' %}
              <td class="formatNum">{{out.outcome}}</td>
              {% endfor %}
            </tr>
            <tr>
              <th scope="row" id="number_of_table">3</th>
              <td><a href="" class="table_xr">Aksiz</a></td>
              <td class="formatNum">{{aksiz_xr.bill}}</td>
              {% for out in out_aksiz|slice:'1' %}
              <td class="formatNum">{{out.outcome}}</td>
              {% endfor %}
            </tr>
            <tr>
              <th scope="row" id="number_of_table">4</th>
              <td><a href="" class="table_xr">Tashkilotlar</a></td>
              <td class="formatNum">{{company.bill}}</td>
              {% for out in out_company|slice:'1' %}
              <td class="formatNum">{{out.income}}</td>
              {% endfor %}
            </tr>
            <tr>
              <th scope="row" id="number_of_table">5</th>
              <td><a href="" class="table_xr">Kredit</a></td>
              <td class="formatNum">{{cardit.bill}}</td>
              {% for out in out_credit|slice:'1' %}
              <td class="formatNum">{{out.income}}</td>
              {% endfor %}
            </tr>
            <tr>
              <th scope="row" id="number_of_table">6</th>
              <td><a href="" class="table_xr">Boshqalar</a></td>
              <td class="formatNum">{{other_today}}</td>

              <td>
                {% for other in others|slice:"2" %}
                <span> {{other.description}} </span>, {% endfor %}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <br /><br />
    <!-- Gaz  -->
    <div id="table_head">
      <h5 class="text-center p-3">{{category_name}} sotib olgan gazlar</h5>
      <div style="margin-bottom: 10xp" id="table_head" class="table-responsive">
        <table class="table table-primary" id="table_scroll_2">
          <thead>
            <tr>
              <th scope="col" id="number_of_table">Sana</th>
              <th scope="col">Xisoblagich</th>
              <th scope="col">Sotib olingan gaz</th>
              <th scope="col">Aksiz</th>
              <th scope="col">Olish narxi</th>
              <th scope="col">Aksiz(sum)</th>
              <th scope="col">Olingan gaz(sum)</th>
            </tr>
          </thead>
          <tbody>
            {% for obj in object_list %}
            <tr>
              <td id="number_of_table">{{obj.date}}</td>
              <td class="formatKub">{{obj.mian_gas}}</td>
              <td class="formatKub">{{obj.last_gas}}</td>
              <td class="formatNum">{{obj.aksiz}}</td>
              <td class="formatNum">{{obj.buygasprice}}</td>
              <td class="formatNum">{{obj.aksiz_sum}}</td>
              <td class="formatNum">{{obj.buy_sum}}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    <!-- Gaz end -->
    <br /><br />
    <div id="table_head">
      <h5 class="text-center p-3">{{category_name}} sotgan gazlar</h5>
      <div style="margin-bottom: 10xp" id="table_head" class="table-responsive">
        <table class="table table-primary" id="table_scroll_3">
          <thead>
            <tr>
              <th scope="col" id="number_of_table">Sana</th>
              <th scope="col">Xisoblagich</th>
              <th scope="col">Sotilgan</th>
              <th scope="col">1.4% Yo'q</th>
              <th scope="col">Qolgan</th>
              <th scope="col">Sotish</th>
              <th scope="col">Naqt</th>
              <th scope="col">Plastik</th>
              <th scope="col">Tashkilot</th>
              <th scope="col">Tushum</th>
              <th scope="col">Ja'mi</th>
            </tr>
          </thead>
          <tbody>
            {% for obj in stations%}
            <tr>
              <td id="number_of_table">{{obj.date}}</td>
              <td class="formatKub">{{obj.counter}}</td>
              <td class="formatKub">{{obj.total_gas}}</td>
              <td class="formatKub">{{obj.lose_gas}}</td>
              <td class="formatKub">{{obj.gas}}</td>
              <td class="formatNum">{{obj.sale_price}}</td>
              <td class="formatNum">{{obj.chec}}</td>
              <td class="formatNum">{{obj.card}}</td>
              <td class="formatNum">{{obj.company}}</td>
              <td class="formatNum">{{obj.sum_half}}</td>
              <td class="formatNum">{{obj.total_sum}}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
    <br />
    <!-- Footer -->
    <footer class="text-center" style="background-color: rgba(0, 0, 0, 0.05)">
      <!-- Grid container -->
      <div class="container p-4 pb-0">
        <!-- Section: Social media -->
        <section class="mb-4">
          {% for cat in categories %}
          <a
            data-mdb-ripple-init
            class="btn text-dark btn-floating"
            href="#!"
            role="button"
            >{{cat.name}}</a
          >
          {% endfor %}
        </section>
        <!-- Section: Social media -->
      </div>
      <!-- Grid container -->

      <!-- Copyright -->
      <div class="text-center p-3 pt-0">
        Â© 2024 Copyright:
        <a class="text-body" href="#"></a>
      </div>
      <!-- Copyright -->
    </footer>
    <!-- Footer end -->
  </body>
  <script>
    let nums = document.querySelectorAll(".formatNum");
    const f = new Intl.NumberFormat("sp-UZ", {
      style: "currency",
      currency: "sum",
    });
    nums.forEach((num) => {
      num.innerHTML = f.format(num.outerText);
    });
  </script>
  <script>
    let kubs = document.querySelectorAll(".formatKub");
    const x = new Intl.NumberFormat("sp-UZ", {
      style: "currency",
      currency: "kub",
    });
    kubs.forEach((kub) => {
      kub.innerHTML = x.format(kub.outerText);
    });
  </script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
</html>
